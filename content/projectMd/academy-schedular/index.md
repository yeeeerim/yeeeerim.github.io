---
title: "academy-schedular"
categories:
  - "프로젝트"
keywords:
  - "프로젝트"
---

## 1. 프로젝트 개요

학생들의 시간표와 출결 정보를 제공하는 웹사이트입니다.

기존에는 학원에서 스프레드시트를 통해 학생들의 시간표와 출결 정보를 공유해 왔으나, 모바일 환경에서 확인이 불편하고 접근성이 떨어지는 문제가 있었습니다. 이를 개선하고자 웹사이트를 통해 학생들이 시간표와 출결 정보를 더 쉽게 확인할 수 있는 시스템을 직접 기획하고 개발하게 되었습니다.

현재는 스프레드시트 데이터를 웹사이트와 연동하여 출력하는 기능만 도입되었으나,  
향후 데이터베이스를 활용하여 관리자가 학생 정보를 사이트에서 직접 관리하고 입력할 수 있도록 시스템을 개선할 예정입니다.

## 2. 기능 명세

- **로그인/로그아웃** : 학생 개별 로그인 기능 구현, 본인의 정보만 확인 가능하도록 보안 강화
- **주간시간표** : 학생의 주간 수업 일정을 한눈에 확인 가능
- **월간시간표** : 월간 수업 일정을 달력 형태로 제공
- **출결정보 캘린더** : 학생의 출석 상황을 시각적으로 제공하는 캘린더 기능
- **출결정보 통계** : 출석, 지각, 결석 정보를 통계화하여 제공
- **자습교재 현황 (개발중)** : 학생의 자습교재 진행 상황과 오답률을 확인 가능
- **학생관리** : 관리자가 사용자 정보를 확인 및 갱신할 수 있는 관리자 페이지 제공

## 3. 기술 선택 이유

### 기술 스택

- **Frontend**: React, Next.js 14
  - 최신 기능과 성능 최적화를 위해 선택
- **Backend**: Next.js API Routes
  - Serverless 환경에 적합하며 간단한 API 서버 구축
- **데이터 연동**: Google Sheets API
  - 기존 스프레드시트 데이터를 유지하며 빠르게 연동 가능
- **배포**: Vercel
  - 무료 요금제를 활용한 Serverless 배포 환경 제공

### 선택 이유

- 기존 시스템(스프레드시트)과의 호환성 확보
- 비용 절감 및 유지보수 용이성
- 학원 특성상 가벼운 트래픽 환경에 적합한 기술 스택

## 4. 최적화

- **SWR 캐싱**: 자주 변경되지 않는 데이터는 클라이언트 측에서 캐싱하여 API 호출 횟수를 최소화하였습니다.
- **데이터 최소화**: Google Sheets API 호출 시, 필요한 데이터만 선택적으로 불러와 데이터 전송 크기를 줄이고 효율성을 높였습니다.
- **서버사이드 렌더링**: Next.js의 서버사이드 렌더링 기능을 활용하여 페이지 로딩 속도를 최적화하고, Skeleton UI를 적용해 데이터 로딩 중에도 사용자 경험이 향상될 수 있도록 개선하였습니다.
- **모바일 최적화**: 모바일 사용자가 많은 점을 고려하여 반응형 UI를 개선하였습니다.

## 5. 문제 해결

### 문제 1: 데이터 갱신 속도

- **문제**: 스프레드시트 데이터 갱신 시 즉시 반영되지 않는 문제
- **해결**: `fetchCache` 옵션을 사용하여 새로 배포하지 않아도 항상 최신 데이터를 가져올 수 있도록 설정하였습니다.

### 문제 2: 브라우저 호환성

- **문제**: Safari에서 테이블 셀 크기가 달라지는 이슈 발생
- **해결**: 기존에 `table` 태그를 사용하여 테이블을 구현했으나, 병합된 셀에 대한 처리가 브라우저마다 상이하게 작동하는 문제를 발견하였습니다.
  - 이 문제를 해결하기 위해 `grid` 레이아웃으로 변경하였습니다.
  - 병합된 셀을 처리하기 위해 `grid-column`과 `grid-row` 속성을 활용하여 셀의 병합 영역을 명시적으로 설정하였습니다.

### 문제 3: 인증 보안

- **문제**: 로그인 정보의 보안 유지
- **해결**: 회원 정보를 JSON 형태로 `/tmp` 폴더에 저장하도록 구현하였습니다.
  - 해당 데이터는 서버 내부에서만 접근 가능하도록 처리하여, 개발자와 사용자 모두 데이터를 확인할 수 없게 보안을 강화하였습니다.

### 문제 4: 개발자 의존성

- **문제**: 학생 개인 데이터는 실시간으로 반영되지만, 로그인 정보는 보안상의 이유로 실시간 반영이 어려운 문제 발생
- **해결**: Vercel Deploy Hook을 활용하여 관리자가 직접 배포를 수행할 수 있도록 시스템을 개선하였습니다.
  - 관리자로 로그인 시 배포 버튼을 제공하여, 배포 작업을 관리자가 수행할 수 있게 함으로써 개발자 의존도를 낮추고 운영 효율성을 높였습니다.

## 6. 회고

### 배운 점

- 기존 시스템과의 연동을 유지하면서 새 기능을 개발하는 과정에서 데이터 구조의 중요성을 인식
- 간단한 기능일수록 사용자의 관점에서 UX를 고민하는 것이 중요하다는 점 체감

### 개선점

- 데이터베이스를 도입하여 데이터 관리와 확장성을 높여야 함
- 사용자 피드백을 적극 수집하여 기능 개선에 반영할 필요성

## 7. 향후 계획

- **데이터베이스 도입**

  - 학생 및 출결 데이터를 사이트에서 직접 관리할 수 있도록 시스템을 개선하고, 기존 스프레드시트를 완전히 대체할 예정입니다.

- **단위 테스트 코드 작성**

  - 스프레드시트 데이터를 기반으로 입력된 값의 유효성을 검증할 수 있는 단위 테스트 코드를 작성할 계획입니다.
  - 이를 통해 관리자가 각 학생의 데이터를 사이트에서 일일이 확인하지 않아도, 데이터의 정확성과 신뢰성을 확보할 수 있도록 개선할 예정입니다.

- **PWA(Progressive Web Application) 개발**
  - 출결 상태 변화나 공지사항을 실시간으로 알릴 수 있는 알림 기능을 추가할 계획입니다.
  - 또한, 안드로이드 및 iOS 환경에서 웹앱 형태로 사용할 수 있도록 PWA 기술을 도입하여 접근성을 강화할 예정입니다.
